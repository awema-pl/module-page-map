/**
 * Bundle of AWEMA page-map transpiled and polyfilled
 * Generated: 2019-06-28 10:52:43
 * Version: 1.1.1
 */

!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),r=(n.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(t){return!0}},c=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),s=e.document,u=r(s)&&r(s.createElement),a=function(t){return u?s.createElement(t):{}},l=!c&&!o(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),f=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,p={f:c?Object.defineProperty:function(t,e,n){if(i(t),e=f(e,!0),i(n),l)try{return h(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},v=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},d=c?function(t,e,n){return p.f(t,e,v(1,n))}:function(t,e,n){return t[e]=n,t},g={}.hasOwnProperty,y=function(t,e){return g.call(t,e)},_=0,m=Math.random(),w=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++_+m).toString(36))},b=t(function(t){var r=w("src"),i=Function.toString,o=(""+i).split("toString");n.inspectSource=function(t){return i.call(t)},(t.exports=function(t,n,i,c){var s="function"==typeof i;s&&(y(i,"name")||d(i,"name",n)),t[n]!==i&&(s&&(y(i,r)||d(i,r,t[n]?""+t[n]:o.join(String(n)))),t===e?t[n]=i:c?t[n]?t[n]=i:d(t,n,i):(delete t[n],d(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||i.call(this)})}),S=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},E=function(t,e,n){if(S(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},k=function(t,r,i){var o,c,s,u,a=t&k.F,l=t&k.G,f=t&k.S,h=t&k.P,p=t&k.B,v=l?e:f?e[r]||(e[r]={}):(e[r]||{}).prototype,g=l?n:n[r]||(n[r]={}),y=g.prototype||(g.prototype={});for(o in l&&(i=r),i)s=((c=!a&&v&&void 0!==v[o])?v:i)[o],u=p&&c?E(s,e):h&&"function"==typeof s?E(Function.call,s):s,v&&b(v,o,s,t&k.U),g[o]!=s&&d(g,o,u),h&&y[o]!=s&&(y[o]=s)};e.core=n,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128;var A=k,x={}.toString,O=function(t){return x.call(t).slice(8,-1)},T=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==O(t)?t.split(""):Object(t)},P=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},L=function(t){return Object(P(t))},j=Math.ceil,I=Math.floor,N=function(t){return isNaN(t=+t)?0:(t>0?I:j)(t)},C=Math.min,M=function(t){return t>0?C(N(t),9007199254740991):0},R=Array.isArray||function(t){return"Array"==O(t)},F=t(function(t){var r=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),H=t(function(t){var n=F("wks"),r=e.Symbol,i="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=i&&r[t]||(i?r:w)("Symbol."+t))}).store=n}),$=H("species"),D=function(t,e){return new(function(t){var e;return R(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!R(e.prototype)||(e=void 0),r(e)&&null===(e=e[$])&&(e=void 0)),void 0===e?Array:e}(t))(e)},G=H("unscopables"),V=Array.prototype;null==V[G]&&d(V,G,{});var B,z,U,W,q,Y,X,K,J,Q=function(t){V[G][t]=!0},Z=(U=1==(B=5),W=2==B,q=3==B,Y=4==B,X=6==B,K=5==B||X,J=z||D,function(t,e,n){for(var r,i,o=L(t),c=T(o),s=E(e,n,3),u=M(c.length),a=0,l=U?J(t,u):W?J(t,0):void 0;u>a;a++)if((K||a in c)&&(i=s(r=c[a],a,o),B))if(U)l[a]=i;else if(i)switch(B){case 3:return!0;case 5:return r;case 6:return a;case 2:l.push(r)}else if(Y)return!1;return X?-1:q||Y?Y:l}),tt=!0;"find"in[]&&Array(1).find(function(){tt=!1}),A(A.P+A.F*tt,"Array",{find:function(t){return Z(this,t,arguments.length>1?arguments[1]:void 0)}}),Q("find");var et=function(t){return T(P(t))},nt=Math.max,rt=Math.min,it=function(t){return function(e,n,r){var i,o=et(e),c=M(o.length),s=function(t,e){return(t=N(t))<0?nt(t+e,0):rt(t,e)}(r,c);if(t&&n!=n){for(;c>s;)if((i=o[s++])!=i)return!0}else for(;c>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ot=it(!0);A(A.P,"Array",{includes:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),Q("includes");var ct=H("match"),st=function(t){var e;return r(t)&&(void 0!==(e=t[ct])?!!e:"RegExp"==O(t))},ut=H("match");A(A.P+A.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[ut]=!1,!"/./"[t](e)}catch(t){}}return!0}("includes"),"String",{includes:function(t){return!!~function(t,e,n){if(st(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(P(t))}(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var at=function(t){return function(e,n){var r,i,o=String(P(e)),c=N(n),s=o.length;return c<0||c>=s?t?"":void 0:(r=o.charCodeAt(c))<55296||r>56319||c+1===s||(i=o.charCodeAt(c+1))<56320||i>57343?t?o.charAt(c):r:t?o.slice(c,c+2):i-56320+(r-55296<<10)+65536}},lt={},ft=F("keys"),ht=function(t){return ft[t]||(ft[t]=w(t))},pt=it(!1),vt=ht("IE_PROTO"),dt=function(t,e){var n,r=et(t),i=0,o=[];for(n in r)n!=vt&&y(r,n)&&o.push(n);for(;e.length>i;)y(r,n=e[i++])&&(~pt(o,n)||o.push(n));return o},gt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),yt=Object.keys||function(t){return dt(t,gt)},_t=c?Object.defineProperties:function(t,e){i(t);for(var n,r=yt(e),o=r.length,c=0;o>c;)p.f(t,n=r[c++],e[n]);return t},mt=e.document,wt=mt&&mt.documentElement,bt=ht("IE_PROTO"),St=function(){},Et=function(){var t,e=a("iframe"),n=gt.length;for(e.style.display="none",wt.appendChild(e),e.src="javascript:",(t=e.modalWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Et=t.F;n--;)delete Et.prototype[gt[n]];return Et()},kt=Object.create||function(t,e){var n;return null!==t?(St.prototype=i(t),n=new St,St.prototype=null,n[bt]=t):n=Et(),void 0===e?n:_t(n,e)},At=p.f,xt=H("toStringTag"),Ot=function(t,e,n){t&&!y(t=n?t:t.prototype,xt)&&At(t,xt,{configurable:!0,value:e})},Tt={};d(Tt,H("iterator"),function(){return this});var Pt=function(t,e,n){t.prototype=kt(Tt,{next:v(1,n)}),Ot(t,e+" Iterator")},Lt=ht("IE_PROTO"),jt=Object.prototype,It=Object.getPrototypeOf||function(t){return t=L(t),y(t,Lt)?t[Lt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?jt:null},Nt=H("iterator"),Ct=!([].keys&&"next"in[].keys()),Mt=function(){return this},Rt=function(t,e,n,r,i,o,c){Pt(n,e,r);var s,u,a,l=function(t){if(!Ct&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",h="values"==i,p=!1,v=t.prototype,g=v[Nt]||v["@@iterator"]||i&&v[i],y=g||l(i),_=i?h?l("entries"):y:void 0,m="Array"==e&&v.entries||g;if(m&&(a=It(m.call(new t)))!==Object.prototype&&a.next&&(Ot(a,f,!0),"function"!=typeof a[Nt]&&d(a,Nt,Mt)),h&&g&&"values"!==g.name&&(p=!0,y=function(){return g.call(this)}),(Ct||p||!v[Nt])&&d(v,Nt,y),lt[e]=y,lt[f]=Mt,i)if(s={values:h?y:l("values"),keys:o?y:l("keys"),entries:_},c)for(u in s)u in v||b(v,u,s[u]);else A(A.P+A.F*(Ct||p),e,s);return s},Ft=at(!0);Rt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Ft(e,n),this._i+=t.length,{value:t,done:!1})});var Ht=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}},$t=H("iterator"),Dt=Array.prototype,Gt=function(t){return void 0!==t&&(lt.Array===t||Dt[$t]===t)},Vt=function(t,e,n){e in t?p.f(t,e,v(0,n)):t[e]=n},Bt=H("toStringTag"),zt="Arguments"==O(function(){return arguments}()),Ut=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Bt))?n:zt?O(e):"Object"==(r=O(e))&&"function"==typeof e.callee?"Arguments":r},Wt=H("iterator"),qt=n.getIteratorMethod=function(t){if(null!=t)return t[Wt]||t["@@iterator"]||lt[Ut(t)]},Yt=H("iterator"),Xt=!1;try{[7][Yt]().return=function(){Xt=!0}}catch(t){}var Kt=function(t,e){if(!e&&!Xt)return!1;var n=!1;try{var r=[7],i=r[Yt]();i.next=function(){return{done:n=!0}},r[Yt]=function(){return i},t(r)}catch(t){}return n};A(A.S+A.F*!Kt(function(t){}),"Array",{from:function(t){var e,n,r,i,o=L(t),c="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,a=void 0!==u,l=0,f=qt(o);if(a&&(u=E(u,s>2?arguments[2]:void 0,2)),null==f||c==Array&&Gt(f))for(n=new c(e=M(o.length));e>l;l++)Vt(n,l,a?u(o[l],l):o[l]);else for(i=f.call(o),n=new c;!(r=i.next()).done;l++)Vt(n,l,a?Ht(i,u,[r.value,l],!0):r.value);return n.length=l,n}});var Jt={f:{}.propertyIsEnumerable},Qt=Object.getOwnPropertyDescriptor,Zt={f:c?Qt:function(t,e){if(t=et(t),e=f(e,!0),l)try{return Qt(t,e)}catch(t){}if(y(t,e))return v(!Jt.f.call(t,e),t[e])}},te=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},ee={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=E(Function.call,Zt.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return te(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:te}.set,ne=gt.concat("length","prototype"),re={f:Object.getOwnPropertyNames||function(t){return dt(t,ne)}},ie="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",oe="["+ie+"]",ce=RegExp("^"+oe+oe+"*"),se=RegExp(oe+oe+"*$"),ue=function(t,e,n){var r={},i=o(function(){return!!ie[t]()||"âÂ"!="âÂ"[t]()}),c=r[t]=i?e(ae):ie[t];n&&(r[n]=c),A(A.P+A.F*i,"String",r)},ae=ue.trim=function(t,e){return t=String(P(t)),1&e&&(t=t.replace(ce,"")),2&e&&(t=t.replace(se,"")),t},le=ue,fe=re.f,he=Zt.f,pe=p.f,ve=le.trim,de=e.Number,ge=de,ye=de.prototype,_e="Number"==O(kt(ye)),me="trim"in String.prototype,we=function(t){var e=f(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=me?e.trim():ve(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var c,s=e.slice(2),u=0,a=s.length;u<a;u++)if((c=s.charCodeAt(u))<48||c>i)return NaN;return parseInt(s,r)}}return+e};if(!de(" 0o1")||!de("0b1")||de("+0x1")){de=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof de&&(_e?o(function(){ye.valueOf.call(n)}):"Number"!=O(n))?function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&ee&&ee(t,i),t}(new ge(we(e)),n,de):we(e)};for(var be,Se=c?fe(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ee=0;Se.length>Ee;Ee++)y(ge,be=Se[Ee])&&!y(de,be)&&pe(de,be,he(ge,be));de.prototype=ye,ye.constructor=de,b(e,"Number",de)}var ke=function(t,e){return{value:e,done:!!t}},Ae=Rt(Array,"Array",function(t,e){this._t=et(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ke(1)):ke(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");lt.Arguments=lt.Array,Q("keys"),Q("values"),Q("entries");!function(t,e){var r=(n.Object||{})[t]||Object[t],i={};i[t]=e(r),A(A.S+A.F*o(function(){r(1)}),"Object",i)}("keys",function(){return function(t){return yt(L(t))}});for(var xe=H("iterator"),Oe=H("toStringTag"),Te=lt.Array,Pe={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Le=yt(Pe),je=0;je<Le.length;je++){var Ie,Ne=Le[je],Ce=Pe[Ne],Me=e[Ne],Re=Me&&Me.prototype;if(Re&&(Re[xe]||d(Re,xe,Te),Re[Oe]||d(Re,Oe,Ne),lt[Ne]=Te,Ce))for(Ie in Ae)Re[Ie]||b(Re,Ie,Ae[Ie],!0)}var Fe,He,$e=H("species"),De=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[$e])?e:S(n)},Ge=at(!0),Ve=function(t,e,n){return e+(n?Ge(t,e).length:1)},Be=RegExp.prototype.exec,ze=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Ut(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Be.call(t,e)},Ue=RegExp.prototype.exec,We=String.prototype.replace,qe=Ue,Ye=(Fe=/a/,He=/b*/g,Ue.call(Fe,"a"),Ue.call(He,"a"),0!==Fe.lastIndex||0!==He.lastIndex),Xe=void 0!==/()??/.exec("")[1];(Ye||Xe)&&(qe=function(t){var e,n,r,o,c=this;return Xe&&(n=new RegExp("^"+c.source+"$(?!\\s)",function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(c))),Ye&&(e=c.lastIndex),r=Ue.call(c,t),Ye&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),Xe&&r&&r.length>1&&We.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Ke=qe;A({target:"RegExp",proto:!0,forced:Ke!==/./.exec},{exec:Ke});var Je=H("species"),Qe=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Ze=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),tn=Math.min,en=[].push,nn=!o(function(){});!function(t,e,n){var r=H(t),i=!o(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)}),c=i?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[Je]=function(){return n}),n[r](""),!e}):void 0;if(!i||!c||"replace"===t&&!Qe||"split"===t&&!Ze){var s=/./[r],u=n(P,r,""[t],function(t,e,n,r,o){return e.exec===Ke?i&&!o?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),a=u[0],l=u[1];b(String.prototype,t,a),d(RegExp.prototype,r,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}("split",2,function(t,e,n,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!st(t))return n.call(r,t,e);for(var i,o,c,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),a=0,l=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,u+"g");(i=Ke.call(f,r))&&!((o=f.lastIndex)>a&&(s.push(r.slice(a,i.index)),i.length>1&&i.index<r.length&&en.apply(s,i.slice(1)),c=i[0].length,a=o,s.length>=l));)f.lastIndex===i.index&&f.lastIndex++;return a===r.length?!c&&f.test("")||s.push(""):s.push(r.slice(a)),s.length>l?s.slice(0,l):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),c=null==n?void 0:n[e];return void 0!==c?c.call(n,i,r):o.call(String(i),n,r)},function(t,e){var c=r(o,t,this,e,o!==n);if(c.done)return c.value;var s=i(t),u=String(this),a=De(s,RegExp),l=s.unicode,f=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(nn?"y":"g"),h=new a(nn?s:"^(?:"+s.source+")",f),p=void 0===e?4294967295:e>>>0;if(0===p)return[];if(0===u.length)return null===ze(h,u)?[u]:[];for(var v=0,d=0,g=[];d<u.length;){h.lastIndex=nn?d:0;var y,_=ze(h,nn?u:u.slice(d));if(null===_||(y=tn(M(h.lastIndex+(nn?0:d)),u.length))===v)d=Ve(u,d,l);else{if(g.push(u.slice(v,d)),g.length===p)return g;for(var m=1;m<=_.length-1;m++)if(g.push(_[m]),g.length===p)return g;d=v=y}}return g.push(u.slice(v)),g}]});var rn,on,cn,sn=t(function(t){var e={},n={},r=t.exports=function(t,r,o,c,s){var u,a,l,f,h=s?function(){return t}:qt(t),p=E(o,c,r?2:1),v=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(Gt(h)){for(u=M(t.length);u>v;v++)if((f=r?p(i(a=t[v])[0],a[1]):p(t[v]))===e||f===n)return f}else for(l=h.call(t);!(a=l.next()).done;)if((f=Ht(l,p,a.value,r))===e||f===n)return f};r.BREAK=e,r.RETURN=n}),un=e.process,an=e.setImmediate,ln=e.clearImmediate,fn=e.MessageChannel,hn=e.Dispatch,pn=0,vn={},dn=function(){var t=+this;if(vn.hasOwnProperty(t)){var e=vn[t];delete vn[t],e()}},gn=function(t){dn.call(t.data)};an&&ln||(an=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return vn[++pn]=function(){!function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},rn(pn),pn},ln=function(t){delete vn[t]},"process"==O(un)?rn=function(t){un.nextTick(E(dn,t,1))}:hn&&hn.now?rn=function(t){hn.now(E(dn,t,1))}:fn?(cn=(on=new fn).port2,on.port1.onmessage=gn,rn=E(cn.postMessage,cn,1)):e.addEventListener&&"function"==typeof postMessage&&!e.importScripts?(rn=function(t){e.postMessage(t+"","*")},e.addEventListener("message",gn,!1)):rn="onreadystatechange"in a("script")?function(t){wt.appendChild(a("script")).onreadystatechange=function(){wt.removeChild(this),dn.call(t)}}:function(t){setTimeout(E(dn,t,1),0)});var yn={set:an,clear:ln},_n=yn.set,mn=e.MutationObserver||e.WebKitMutationObserver,wn=e.process,bn=e.Promise,Sn="process"==O(wn);function En(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=S(e),this.reject=S(n)}var kn,An,xn,On,Tn={f:function(t){return new En(t)}},Pn=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Ln=e.navigator,jn=Ln&&Ln.userAgent||"",In=H("species"),Nn=yn.set,Cn=function(){var t,n,r,i=function(){var e,i;for(Sn&&(e=wn.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(Sn)r=function(){wn.nextTick(i)};else if(!mn||e.navigator&&e.navigator.standalone)if(bn&&bn.resolve){var o=bn.resolve(void 0);r=function(){o.then(i)}}else r=function(){_n.call(e,i)};else{var c=!0,s=document.createTextNode("");new mn(i).observe(s,{characterData:!0}),r=function(){s.data=c=!c}}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}(),Mn=e.TypeError,Rn=e.process,Fn=Rn&&Rn.versions,Hn=Fn&&Fn.v8||"",$n=e.Promise,Dn="process"==Ut(Rn),Gn=function(){},Vn=An=Tn.f,Bn=!!function(){try{var t=$n.resolve(1),e=(t.constructor={})[H("species")]=function(t){t(Gn,Gn)};return(Dn||"function"==typeof PromiseRejectionEvent)&&t.then(Gn)instanceof e&&0!==Hn.indexOf("6.6")&&-1===jn.indexOf("Chrome/66")}catch(t){}}(),zn=function(t){var e;return!(!r(t)||"function"!=typeof(e=t.then))&&e},Un=function(t,e){if(!t._n){t._n=!0;var n=t._c;Cn(function(){for(var r=t._v,i=1==t._s,o=0,c=function(e){var n,o,c,s=i?e.ok:e.fail,u=e.resolve,a=e.reject,l=e.domain;try{s?(i||(2==t._h&&Yn(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),c=!0)),n===e.promise?a(Mn("Promise-chain cycle")):(o=zn(n))?o.call(n,u,a):u(n)):a(r)}catch(t){l&&!c&&l.exit(),a(t)}};n.length>o;)c(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Wn(t)})}},Wn=function(t){Nn.call(e,function(){var n,r,i,o=t._v,c=qn(t);if(c&&(n=Pn(function(){Dn?Rn.emit("unhandledRejection",o,t):(r=e.onunhandledrejection)?r({promise:t,reason:o}):(i=e.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=Dn||qn(t)?2:1),t._a=void 0,c&&n.e)throw n.v})},qn=function(t){return 1!==t._h&&0===(t._a||t._c).length},Yn=function(t){Nn.call(e,function(){var n;Dn?Rn.emit("rejectionHandled",t):(n=e.onrejectionhandled)&&n({promise:t,reason:t._v})})},Xn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Un(e,!0))},Kn=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw Mn("Promise can't be resolved itself");(e=zn(t))?Cn(function(){var r={_w:n,_d:!1};try{e.call(t,E(Kn,r,1),E(Xn,r,1))}catch(t){Xn.call(r,t)}}):(n._v=t,n._s=1,Un(n,!1))}catch(t){Xn.call({_w:n,_d:!1},t)}}};function Jn(t){var e=0;do{e+=t.offsetTop,t=t.offsetParent}while(t);return e}Bn||($n=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,$n,"Promise","_h"),S(t),kn.call(this);try{t(E(Kn,this,1),E(Xn,this,1))}catch(t){Xn.call(this,t)}},(kn=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)b(t,r,e[r],n);return t}($n.prototype,{then:function(t,e){var n=Vn(De(this,$n));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Dn?Rn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Un(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),xn=function(){var t=new kn;this.promise=t,this.resolve=E(Kn,t,1),this.reject=E(Xn,t,1)},Tn.f=Vn=function(t){return t===$n||t===On?new xn(t):An(t)}),A(A.G+A.W+A.F*!Bn,{Promise:$n}),Ot($n,"Promise"),function(t){var n=e[t];c&&n&&!n[In]&&p.f(n,In,{configurable:!0,get:function(){return this}})}("Promise"),On=n.Promise,A(A.S+A.F*!Bn,"Promise",{reject:function(t){var e=Vn(this);return(0,e.reject)(t),e.promise}}),A(A.S+A.F*!Bn,"Promise",{resolve:function(t){return function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=Tn.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),A(A.S+A.F*!(Bn&&Kt(function(t){$n.all(t).catch(Gn)})),"Promise",{all:function(t){var e=this,n=Vn(e),r=n.resolve,i=n.reject,o=Pn(function(){var n=[],o=0,c=1;sn(t,!1,function(t){var s=o++,u=!1;n.push(void 0),c++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--c||r(n))},i)}),--c||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=Vn(e),r=n.reject,i=Pn(function(){sn(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}});var Qn=function(t,e,n,r,i,o,c,s,u,a){"boolean"!=typeof c&&(u=s,s=c,c=!1);var l,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,i&&(f.functional=!0)),r&&(f._scopeId=r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},f._ssrRegister=l):e&&(l=c?function(){e.call(this,a(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),l)if(f.functional){var h=f.render;f.render=function(t,e){return l.call(e),h(t,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return n}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"page-map",class:t.stickyClass,style:t.stickyStyle},[t._t("before"),t._v(" "),t.targetsEls&&t.targetsEls.length?n("ul",{staticClass:"page-map__list"},t._l(t.targetsEls,function(e,r){return n("li",{key:r,staticClass:"page-map__list-item",class:["for-"+e.tagName.toLowerCase(),{"is-active":t.activeAnchor==r}]},[n("a",{staticClass:"page-map__link",attrs:{href:"#"+e.id},on:{click:function(e){return e.preventDefault(),t.scrollToAnchor(r)}}},[t._v("\n                "+t._s(e.innerText)+"\n            ")])])}),0):t._e(),t._v(" "),t._t("after")],2)},staticRenderFns:[]},void 0,{name:"page-map",mixins:[{props:{sticky:{type:[Object,Boolean],default:function(){return{top:10}}}},data:function(){return{shouldStick:!1,sizes:{width:null,height:null}}},computed:{stickyTop:function(){return this.sticky&&Number(this.sticky.top)||0},stickyBottom:function(){return this.sticky&&Number(this.sticky.bottom)||0},stickyStyle:function(){if(!this.shouldStick)return null;var t="top"===this.shouldStick;return{position:t?"fixed":"absolute",top:t?this.stickyTop+"px":"auto",bottom:t?"auto":this.stickyBottom+"px",width:this.sizes.width+"px",maxHeight:t?this.sizes.height+"px":null,overflow:"auto"}},stickyClass:function(){return this.shouldStick?"is-sticky-"+this.shouldStick:null},passive:function(){return!(!this._isMounted||!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}())&&{passive:!0}}},methods:{prepareSticky:function(){var t,e,n=this.$el.parentNode,r=Jn(n),i=n.clientHeight,o=this.$el.offsetHeight,c=i>o;return c?(window.addEventListener("scroll",this.checkSticky,this.passive),this.__stickAt=r-this.stickyTop,this.__stickBottomAt=r+i-o-this.stickyTop-this.stickyBottom,this.sizes={width:(t=n,e=getComputedStyle(t),t.clientWidth-parseInt(e.paddingLeft)-parseInt(e.paddingRight)),height:window.innerHeight-this.stickyTop-this.stickyBottom}):(window.removeEventListener("scroll",this.checkSticky,this.passive),this.shouldStick=!1),c},checkSticky:function(){var t=window.pageYOffset;t<=this.__stickAt?this.shouldStick=!1:t<=this.__stickBottomAt&&this.__stickAt<t?this.shouldStick="top":this.shouldStick="bottom"},updateSticky:function(){this.prepareSticky()&&this.checkSticky()}},mounted:function(){this.sticky&&(this.__oldParentPosition=getComputedStyle(this.$el.parentNode).position,"static"===this.__oldParentPosition&&(this.$el.parentNode.style.position="relative"),this.updateSticky(),window.addEventListener("resize",this.updateSticky))},beforeDestroy:function(){this.sticky&&("static"===this.__oldParentPosition&&(this.$el.parentNode.style.position=null),window.removeEventListener("scroll",this.checkSticky,this.passive),window.removeEventListener("resize",this.updateSticky))}}],props:{content:{type:String,default:"body"},exclude:String,targets:{type:String,default:"h1, h2, h3, h4, h5, h6"},offset:{type:Number,default:0}},data:function(){return{contentEl:null,activeAnchor:null,targetsEls:[],targetsHeights:[]}},watch:{content:function(t,e){e&&document.querySelector(e)===this.contentEl||(e&&this.destroy(),t&&this.init())}},methods:{scrollToAnchor:function(t){var e=this;this.toggleScrollListener(!1),this.setActiveAnchor(t),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,n=(new Date).getTime(),r=window.pageYOffset,i=t-r;return new Promise(function(o){requestAnimationFrame(function c(){var s,u=(new Date).getTime()-n;if(u<e){var a=r+i*(s=u/e,--s*s*s+1);window.scrollTo(0,a),requestAnimationFrame(c)}else window.scrollTo(0,t),requestAnimationFrame(o)})})}(this.targetsHeights[t]+this.offset).then(function(){e.toggleScrollListener(!0)})},setTargetsHeights:function(){this.targetsHeights=Array.from(this.targetsEls).map(function(t){return Jn(t)})},checkActiveAnchor:function(){for(var t=0,e=window.pageYOffset;t<this.targetsHeights.length-1&&e>this.targetsHeights[t];)t+=1;this.setActiveAnchor(t)},setActiveAnchor:function(t){t!==this.activeAnchor&&(this.activeAnchor=t,null===t?history.replaceState(void 0,void 0,location.href.split("#")[0]):history.replaceState(void 0,void 0,"#".concat(this.targetsEls[t].id)))},toggleScrollListener:function(t){window[t?"addEventListener":"removeEventListener"]("scroll",this.checkActiveAnchor)},createAnchors:function(){var t=this;if(!this.contentEl)return!1;var e=this.contentEl.querySelectorAll(this.targets);if(!e)return!1;if(this.exclude){var n=this.contentEl.querySelectorAll(this.exclude);n&&(n=Array.from(n),e=Array.from(e).filter(function(t){return!n.includes(t)&&!n.find(function(e){return e.contains(t)})}))}for(var r=function(n){var r,i,o,c=e[n];c.id=c.id||t.$url.urlify(c.innerText),(r=e[n],i="A",o={href:"#"+c.id,class:"page-map-anchor"},i=document.createElement(i),r.appendChild(i),o&&Object.keys(o).forEach(function(t){i.setAttribute(t,o[t])}),Array.from(r.childNodes).forEach(function(t){t!==i&&i.appendChild(t)}),i).addEventListener("click",function(e){e.preventDefault(),t.scrollToAnchor(n)},!0)},i=0;i<e.length;i++)r(i);return!!e.length&&(this.targetsEls=e,this.setTargetsHeights(),this.checkActiveAnchor(),!0)},globalObserver:function(t){var e=this;t.filter(function(t){return!e.contentEl.contains(t.target)}).length&&setTimeout(this.setTargetsHeights,0),this.sticky&&this.updateSticky()},createObservers:function(){var t=this;this.__intersectionObserver=new IntersectionObserver(function(e){e[0].intersectionRatio?t.toggleScrollListener(!0):(t.toggleScrollListener(!1),t.setActiveAnchor(null))}),this.__intersectionObserver.observe(this.contentEl);try{this.__globalMutationObserver=new MutationObserver(this.globalObserver),this.__globalMutationObserver.observe(document.body,{childList:!0,subtree:!0})}catch(t){AWEMA_CONFIG.dev&&console.log("page-map: ",t)}},init:function(){this.contentEl=document.querySelector(this.content),this.createAnchors()&&(this.createObservers(),window.addEventListener("resize",this.setTargetsHeights))},destroy:function(){window.removeEventListener("resize",this.setTargetsHeights);try{this.__intersectionObserver.disconnect(),this.__globalMutationObserver.disconnect()}catch(t){AWEMA_CONFIG.dev&&console.log("page-map: ",t)}}},mounted:function(){this.init()},beforeDestroy:function(){this.destroy()}},void 0,!1,void 0,void 0,void 0);var Zn={installed:!1,install:function(t){this.installed||(this.installed=!0,t.component("page-map",Qn))}},tr={install:function(){Vue.use(Zn)}};(function(){try{return new IntersectionObserver(function(){}).disconnect(),!0}catch(t){return!1}})()||(tr.modules["intersection-observer"]="https://cdn.jsdelivr.net/npm/intersection-observer-polyfill@0.1.0/dist/IntersectionObserver.global.js"),window&&"AWEMA"in window?AWEMA.use(tr):(window.__awema_plugins_stack__=window.__awema_plugins_stack__||[],window.__awema_plugins_stack__.push(tr))}();
